<link rel="import" href="../components/polymer/polymer.html">

<link rel="import"
    href="/components/paper-input/paper-input.html">
<link rel="import"
    href="/components/paper-button/paper-button.html">

<link href="/components/paper-input/paper-autogrow-textarea.html" rel="import">


<polymer-element name="chat-form" attributes="messageHandler">
  <template>
    <style>
    :host {
      display: block;
      width: 100%;
    }

    paper-input {
      width: 100%;
    }
    </style>


  <paper-input-decorator label="Message" id="Message" floatingLabel>
    <paper-autogrow-textarea>
      <textarea></textarea>
    </paper-autogrow-textarea>
  </paper-input-decorator>

	<paper-button raised id="Submit">
		Submit
	</paper-button>

  </template>

  <script>
  Polymer({
    ready: function() {

      this.$.Submit.onclick = (function() {
        var value = this.$.Message.querySelector('textarea').value || false;
        if (!value) return;

        this.messageHandler(value);
        this.$.Message.querySelector('textarea').value = "";

      }).bind(this);

    }
  });
  </script>
</polymer-element>
